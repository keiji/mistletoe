=== RUN   TestMstlAndMstlGhCompatibility
=== RUN   TestMstlAndMstlGhCompatibility/version
=== RUN   TestMstlAndMstlGhCompatibility/help
=== RUN   TestMstlAndMstlGhCompatibility/init_and_status
--- PASS: TestMstlAndMstlGhCompatibility (2.81s)
    --- PASS: TestMstlAndMstlGhCompatibility/version (0.06s)
    --- PASS: TestMstlAndMstlGhCompatibility/help (0.04s)
    --- PASS: TestMstlAndMstlGhCompatibility/init_and_status (0.52s)
=== RUN   TestLoadConfig
=== RUN   TestLoadConfig/File_does_not_exist
=== RUN   TestLoadConfig/Valid_file
=== RUN   TestLoadConfig/Invalid_JSON
=== RUN   TestLoadConfig/Missing_repositories_key
=== RUN   TestLoadConfig/Repositories_key_is_null
=== RUN   TestLoadConfig/Repositories_empty_array_(valid)
=== RUN   TestLoadConfig/Repo_missing_URL
=== RUN   TestLoadConfig/Repo_URL_is_null
--- PASS: TestLoadConfig (0.00s)
    --- PASS: TestLoadConfig/File_does_not_exist (0.00s)
    --- PASS: TestLoadConfig/Valid_file (0.00s)
    --- PASS: TestLoadConfig/Invalid_JSON (0.00s)
    --- PASS: TestLoadConfig/Missing_repositories_key (0.00s)
    --- PASS: TestLoadConfig/Repositories_key_is_null (0.00s)
    --- PASS: TestLoadConfig/Repositories_empty_array_(valid) (0.00s)
    --- PASS: TestLoadConfig/Repo_missing_URL (0.00s)
    --- PASS: TestLoadConfig/Repo_URL_is_null (0.00s)
=== RUN   TestIDDerivationAndDuplicates
=== RUN   TestIDDerivationAndDuplicates/Explicit_ID_OK
=== RUN   TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(.git)
=== RUN   TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(no_.git)
=== RUN   TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(mixed)
=== RUN   TestIDDerivationAndDuplicates/Duplicate_Explicit_IDs
=== RUN   TestIDDerivationAndDuplicates/Duplicate_Explicit_and_Implicit
=== RUN   TestIDDerivationAndDuplicates/Duplicate_Implicit
=== RUN   TestIDDerivationAndDuplicates/Invalid_ID_(Special_characters)
=== RUN   TestIDDerivationAndDuplicates/Invalid_ID_(Special_characters_2)
=== RUN   TestIDDerivationAndDuplicates/Invalid_ID_(Dot)
=== RUN   TestIDDerivationAndDuplicates/Invalid_ID_(Double_Dot)
=== RUN   TestIDDerivationAndDuplicates/Invalid_URL_(ext::)
=== RUN   TestIDDerivationAndDuplicates/Invalid_URL_(Control_char)
=== RUN   TestIDDerivationAndDuplicates/Invalid_Branch_(Start_with_-)
=== RUN   TestIDDerivationAndDuplicates/Invalid_Branch_(Special_char)
=== RUN   TestIDDerivationAndDuplicates/Valid_Branch_(Slash_OK)
=== RUN   TestIDDerivationAndDuplicates/Invalid_BaseBranch_(Special_char)
=== RUN   TestIDDerivationAndDuplicates/Valid_BaseBranch
=== RUN   TestIDDerivationAndDuplicates/Invalid_Revision_(Start_with_-)
--- PASS: TestIDDerivationAndDuplicates (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Explicit_ID_OK (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(.git) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(no_.git) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Implicit_ID_Derivation_(mixed) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Duplicate_Explicit_IDs (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Duplicate_Explicit_and_Implicit (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Duplicate_Implicit (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_ID_(Special_characters) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_ID_(Special_characters_2) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_ID_(Dot) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_ID_(Double_Dot) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_URL_(ext::) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_URL_(Control_char) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_Branch_(Start_with_-) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_Branch_(Special_char) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Valid_Branch_(Slash_OK) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_BaseBranch_(Special_char) (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Valid_BaseBranch (0.00s)
    --- PASS: TestIDDerivationAndDuplicates/Invalid_Revision_(Start_with_-) (0.00s)
=== RUN   TestParseConfig
=== RUN   TestParseConfig/Valid_JSON
--- PASS: TestParseConfig (0.00s)
    --- PASS: TestParseConfig/Valid_JSON (0.00s)
=== RUN   TestLoadDependencies
--- PASS: TestLoadDependencies (0.00s)
=== RUN   TestLoadDependencies_FileNotFound
--- PASS: TestLoadDependencies_FileNotFound (0.00s)
=== RUN   TestParseDependencies_Complex
    dependency_test.go:74: A should depend on B
--- FAIL: TestParseDependencies_Complex (0.00s)
=== RUN   TestParseDependencies_InvalidID
--- PASS: TestParseDependencies_InvalidID (0.00s)
=== RUN   TestParseFlagsFlexible
=== RUN   TestParseFlagsFlexible/flags_before_args
=== RUN   TestParseFlagsFlexible/flags_after_args
=== RUN   TestParseFlagsFlexible/mixed_flags_and_args
=== RUN   TestParseFlagsFlexible/bool_flag
=== RUN   TestParseFlagsFlexible/bool_flag_with_other_flags
=== RUN   TestParseFlagsFlexible/flag_missing_value_at_end
=== RUN   TestParseFlagsFlexible/flag_missing_value_in_middle
--- PASS: TestParseFlagsFlexible (0.00s)
    --- PASS: TestParseFlagsFlexible/flags_before_args (0.00s)
    --- PASS: TestParseFlagsFlexible/flags_after_args (0.00s)
    --- PASS: TestParseFlagsFlexible/mixed_flags_and_args (0.00s)
    --- PASS: TestParseFlagsFlexible/bool_flag (0.00s)
    --- PASS: TestParseFlagsFlexible/bool_flag_with_other_flags (0.00s)
    --- PASS: TestParseFlagsFlexible/flag_missing_value_at_end (0.00s)
    --- PASS: TestParseFlagsFlexible/flag_missing_value_in_middle (0.00s)
=== RUN   TestGitExecPath
=== RUN   TestGitExecPath/Valid_GIT_EXEC_PATH
=== RUN   TestGitExecPath/Invalid_GIT_EXEC_PATH_version
=== RUN   TestGitExecPath/Invalid_GIT_EXEC_PATH_init
--- PASS: TestGitExecPath (1.14s)
    --- PASS: TestGitExecPath/Valid_GIT_EXEC_PATH (0.03s)
    --- PASS: TestGitExecPath/Invalid_GIT_EXEC_PATH_version (0.01s)
    --- PASS: TestGitExecPath/Invalid_GIT_EXEC_PATH_init (0.01s)
=== RUN   TestHandleInitDepth
Cloning file:///tmp/TestHandleInitDepth1040875430/002 into shallow-repo...
Cloning into 'shallow-repo'...
Switching shallow-repo to branch master...
Already on 'master'
Your branch is up to date with 'origin/master'.
Configuration saved to .mstl/config.json
Dependencies graph saved to .mstl/dependencies.md
--- PASS: TestHandleInitDepth (1.48s)
=== RUN   TestValidateAndPrepareInitDest
--- PASS: TestValidateAndPrepareInitDest (0.00s)
=== RUN   TestInit_MissingBranchAndRevision
=== RUN   TestInit_MissingBranchAndRevision/Missing_Branch_and_Revision
--- PASS: TestInit_MissingBranchAndRevision (1.40s)
    --- PASS: TestInit_MissingBranchAndRevision/Missing_Branch_and_Revision (0.10s)
=== RUN   TestInitRevision
=== RUN   TestInitRevision/Revision_specified,_no_Branch
=== RUN   TestInitRevision/Revision_specified,_Branch_specified
=== RUN   TestInitRevision/Validation:_Branch_already_exists
--- PASS: TestInitRevision (1.74s)
    --- PASS: TestInitRevision/Revision_specified,_no_Branch (0.12s)
    --- PASS: TestInitRevision/Revision_specified,_Branch_specified (0.13s)
    --- PASS: TestInitRevision/Validation:_Branch_already_exists (0.16s)
=== RUN   TestValidateEnvironment
=== RUN   TestValidateEnvironment/Clean_state_(dir_does_not_exist)
=== RUN   TestValidateEnvironment/Existing_empty_directory
=== RUN   TestValidateEnvironment/Existing_non-empty_non-git_directory
=== RUN   TestValidateEnvironment/Existing_git_repo_with_correct_remote
=== RUN   TestValidateEnvironment/Existing_git_repo_with_wrong_remote
--- PASS: TestValidateEnvironment (0.06s)
    --- PASS: TestValidateEnvironment/Clean_state_(dir_does_not_exist) (0.00s)
    --- PASS: TestValidateEnvironment/Existing_empty_directory (0.00s)
    --- PASS: TestValidateEnvironment/Existing_non-empty_non-git_directory (0.00s)
    --- PASS: TestValidateEnvironment/Existing_git_repo_with_correct_remote (0.03s)
    --- PASS: TestValidateEnvironment/Existing_git_repo_with_wrong_remote (0.03s)
=== RUN   TestGenerateMistletoeBody
--- PASS: TestGenerateMistletoeBody (0.00s)
=== RUN   TestGenerateMistletoeBody_WithDependencies
--- PASS: TestGenerateMistletoeBody_WithDependencies (0.00s)
=== RUN   TestGenerateMistletoeBody_WithDependencyContent
--- PASS: TestGenerateMistletoeBody_WithDependencyContent (0.00s)
=== RUN   TestGenerateMistletoeBody_WithDependencyContent_AlreadyWrapped
--- PASS: TestGenerateMistletoeBody_WithDependencyContent_AlreadyWrapped (0.00s)
=== RUN   TestEmbedMistletoeBody_Append
--- PASS: TestEmbedMistletoeBody_Append (0.00s)
=== RUN   TestEmbedMistletoeBody_Replace
--- PASS: TestEmbedMistletoeBody_Replace (0.00s)
=== RUN   TestDependencyCategorization_Verification
=== RUN   TestDependencyCategorization_Verification/mstl1
=== RUN   TestDependencyCategorization_Verification/mstl2
=== RUN   TestDependencyCategorization_Verification/mstl3
--- PASS: TestDependencyCategorization_Verification (0.00s)
    --- PASS: TestDependencyCategorization_Verification/mstl1 (0.00s)
    --- PASS: TestDependencyCategorization_Verification/mstl2 (0.00s)
    --- PASS: TestDependencyCategorization_Verification/mstl3 (0.00s)
=== RUN   TestCheckoutHelperProcess
--- PASS: TestCheckoutHelperProcess (0.00s)
=== RUN   TestHandlePrCheckout
--- PASS: TestHandlePrCheckout (0.00s)
=== RUN   TestSortPrs
=== RUN   TestSortPrs/Sort_by_State_Priority
=== RUN   TestSortPrs/Sort_Open_Draft_vs_Open
=== RUN   TestSortPrs/Sort_by_Number_Descending_within_State
--- PASS: TestSortPrs (0.00s)
    --- PASS: TestSortPrs/Sort_by_State_Priority (0.00s)
    --- PASS: TestSortPrs/Sort_Open_Draft_vs_Open (0.00s)
    --- PASS: TestSortPrs/Sort_by_Number_Descending_within_State (0.00s)
=== RUN   TestCollectPrStatus_ErrorHandling
--- PASS: TestCollectPrStatus_ErrorHandling (0.61s)
=== RUN   TestParsePrTitleBody
=== RUN   TestParsePrTitleBody/Empty_Input
=== RUN   TestParsePrTitleBody/Single_Line_Short
=== RUN   TestParsePrTitleBody/Standard_Format_(Title,_Empty,_Body)
=== RUN   TestParsePrTitleBody/No_Separator_(Title,_Body)
=== RUN   TestParsePrTitleBody/Long_Title_(Overflow)
=== RUN   TestParsePrTitleBody/Long_Title_(Exact_Limit)
=== RUN   TestParsePrTitleBody/Long_Title_(Limit_+_1)
=== RUN   TestParsePrTitleBody/Multi-byte_characters_(Japanese)
=== RUN   TestParsePrTitleBody/Multi-byte_characters_Long_Title
--- PASS: TestParsePrTitleBody (0.00s)
    --- PASS: TestParsePrTitleBody/Empty_Input (0.00s)
    --- PASS: TestParsePrTitleBody/Single_Line_Short (0.00s)
    --- PASS: TestParsePrTitleBody/Standard_Format_(Title,_Empty,_Body) (0.00s)
    --- PASS: TestParsePrTitleBody/No_Separator_(Title,_Body) (0.00s)
    --- PASS: TestParsePrTitleBody/Long_Title_(Overflow) (0.00s)
    --- PASS: TestParsePrTitleBody/Long_Title_(Exact_Limit) (0.00s)
    --- PASS: TestParsePrTitleBody/Long_Title_(Limit_+_1) (0.00s)
    --- PASS: TestParsePrTitleBody/Multi-byte_characters_(Japanese) (0.00s)
    --- PASS: TestParsePrTitleBody/Multi-byte_characters_Long_Title (0.00s)
=== RUN   TestHelperProcess
--- PASS: TestHelperProcess (0.00s)
=== RUN   TestCheckGhAvailability
--- PASS: TestCheckGhAvailability (0.32s)
=== RUN   TestVerifyGithubRequirements_Success
--- PASS: TestVerifyGithubRequirements_Success (0.93s)
=== RUN   TestVerifyGithubRequirements_ExistingPR
--- PASS: TestVerifyGithubRequirements_ExistingPR (0.98s)
=== RUN   TestVerifyGithubRequirements_MissingBaseBranch
--- PASS: TestVerifyGithubRequirements_MissingBaseBranch (0.93s)
=== RUN   TestExecutePrCreation_NoCommitsError
[.] Creating Pull Request...
[.] No commits between  and feature-branch. Skipping PR creation.
--- PASS: TestExecutePrCreation_NoCommitsError (0.14s)
=== RUN   TestVerifyRevisionsUnchanged
=== RUN   TestVerifyRevisionsUnchanged/NoChange
=== RUN   TestVerifyRevisionsUnchanged/ChangeDetected
--- PASS: TestVerifyRevisionsUnchanged (0.09s)
    --- PASS: TestVerifyRevisionsUnchanged/NoChange (0.00s)
    --- PASS: TestVerifyRevisionsUnchanged/ChangeDetected (0.02s)
=== RUN   TestPushCmd
=== RUN   TestPushCmd/No_Push_Needed
=== RUN   TestPushCmd/Push_Needed_-_User_Yes
=== RUN   TestPushCmd/Push_Needed_-_User_No
--- PASS: TestPushCmd (1.04s)
    --- PASS: TestPushCmd/No_Push_Needed (0.15s)
    --- PASS: TestPushCmd/Push_Needed_-_User_Yes (0.22s)
    --- PASS: TestPushCmd/Push_Needed_-_User_No (0.19s)
=== RUN   TestParseArgs
=== RUN   TestParseArgs/Init_command_with_file_flag_at_end
=== RUN   TestParseArgs/Init_command_with_short_file_flag
=== RUN   TestParseArgs/File_flag_at_beginning_(treated_as_subcommand_now)
=== RUN   TestParseArgs/File_flag_with_equal_sign_(treated_as_subcommand)
=== RUN   TestParseArgs/Short_file_flag_with_equal_sign_(treated_as_subcommand)
=== RUN   TestParseArgs/No_command_(legacy)_-_empty_args
=== RUN   TestParseArgs/Missing_file_argument_value_after_subcommand
=== RUN   TestParseArgs/Mixed_flags_and_args
=== RUN   TestParseArgs/Subcommand_flag_treated_as_argument
--- PASS: TestParseArgs (0.00s)
    --- PASS: TestParseArgs/Init_command_with_file_flag_at_end (0.00s)
    --- PASS: TestParseArgs/Init_command_with_short_file_flag (0.00s)
    --- PASS: TestParseArgs/File_flag_at_beginning_(treated_as_subcommand_now) (0.00s)
    --- PASS: TestParseArgs/File_flag_with_equal_sign_(treated_as_subcommand) (0.00s)
    --- PASS: TestParseArgs/Short_file_flag_with_equal_sign_(treated_as_subcommand) (0.00s)
    --- PASS: TestParseArgs/No_command_(legacy)_-_empty_args (0.00s)
    --- PASS: TestParseArgs/Missing_file_argument_value_after_subcommand (0.00s)
    --- PASS: TestParseArgs/Mixed_flags_and_args (0.00s)
    --- PASS: TestParseArgs/Subcommand_flag_treated_as_argument (0.00s)
=== RUN   TestGenerateSnapshotFromStatus
--- PASS: TestGenerateSnapshotFromStatus (0.00s)
=== RUN   TestGenerateSnapshotVerbose
--- PASS: TestGenerateSnapshotVerbose (0.04s)
=== RUN   TestSnapshot
--- PASS: TestSnapshot (0.07s)
=== RUN   TestSnapshot_DefaultFilename
--- PASS: TestSnapshot_DefaultFilename (0.04s)
=== RUN   TestSnapshot_FileExists
--- PASS: TestSnapshot_FileExists (0.01s)
=== RUN   TestValidateRepositoriesIntegrity
=== RUN   TestValidateRepositoriesIntegrity/Dir_does_not_exist_(Skipped)
=== RUN   TestValidateRepositoriesIntegrity/Dir_exists_but_not_a_git_repo
=== RUN   TestValidateRepositoriesIntegrity/Target_exists_but_is_file
=== RUN   TestValidateRepositoriesIntegrity/Git_repo_with_correct_remote
=== RUN   TestValidateRepositoriesIntegrity/Git_repo_with_wrong_remote
--- PASS: TestValidateRepositoriesIntegrity (0.03s)
    --- PASS: TestValidateRepositoriesIntegrity/Dir_does_not_exist_(Skipped) (0.00s)
    --- PASS: TestValidateRepositoriesIntegrity/Dir_exists_but_not_a_git_repo (0.00s)
    --- PASS: TestValidateRepositoriesIntegrity/Target_exists_but_is_file (0.00s)
    --- PASS: TestValidateRepositoriesIntegrity/Git_repo_with_correct_remote (0.01s)
    --- PASS: TestValidateRepositoriesIntegrity/Git_repo_with_wrong_remote (0.01s)
=== RUN   TestCollectStatus
--- PASS: TestCollectStatus (0.26s)
=== RUN   TestValidateStatusForAction
=== RUN   TestValidateStatusForAction/Clean
=== RUN   TestValidateStatusForAction/Conflict
error: repository 'r1' has conflicts. Cannot proceed.
=== RUN   TestValidateStatusForAction/Detached_HEAD
error: repository 'r1' is in a detached HEAD state. Cannot proceed.
=== RUN   TestValidateStatusForAction/Behind_(Check=True)
error: the following repositories are behind remote and require a pull:
 - r1
Please pull changes before proceeding.
=== RUN   TestValidateStatusForAction/Behind_(Check=False)
--- PASS: TestValidateStatusForAction (0.00s)
    --- PASS: TestValidateStatusForAction/Clean (0.00s)
    --- PASS: TestValidateStatusForAction/Conflict (0.00s)
    --- PASS: TestValidateStatusForAction/Detached_HEAD (0.00s)
    --- PASS: TestValidateStatusForAction/Behind_(Check=True) (0.00s)
    --- PASS: TestValidateStatusForAction/Behind_(Check=False) (0.00s)
=== RUN   TestStatusCmd
=== RUN   TestStatusCmd/Validation_Error_-_Wrong_Remote
=== RUN   TestStatusCmd/Status_Success_-_Synced_and_Unpushed
=== RUN   TestStatusCmd/Status_Success_-_Diverged_(No_Branch_Config)
=== RUN   TestStatusCmd/Status_Success_-_Pullable_Only
=== RUN   TestStatusCmd/Status_Success_-_Diverged_with_Config
=== RUN   TestStatusCmd/Status_Success_-_Pullable_with_Conflict
--- PASS: TestStatusCmd (1.84s)
    --- PASS: TestStatusCmd/Validation_Error_-_Wrong_Remote (0.02s)
    --- PASS: TestStatusCmd/Status_Success_-_Synced_and_Unpushed (0.32s)
    --- PASS: TestStatusCmd/Status_Success_-_Diverged_(No_Branch_Config) (0.26s)
    --- PASS: TestStatusCmd/Status_Success_-_Pullable_Only (0.24s)
    --- PASS: TestStatusCmd/Status_Success_-_Diverged_with_Config (0.27s)
    --- PASS: TestStatusCmd/Status_Success_-_Pullable_with_Conflict (0.26s)
=== RUN   TestHandleSwitch
=== RUN   TestHandleSwitch/Switch_NonExistent_Strict
=== RUN   TestHandleSwitch/Switch_Create_Success
=== RUN   TestHandleSwitch/Switch_Flexible_Ordering
=== RUN   TestHandleSwitch/Switch_Invalid_Flag_Position
    switch_test.go:136: Output: Configuration file .mstl/config.json not found.
=== RUN   TestHandleSwitch/Switch_Extra_Args
=== RUN   TestHandleSwitch/Switch_Ambiguous_Mixed
--- PASS: TestHandleSwitch (0.64s)
    --- PASS: TestHandleSwitch/Switch_NonExistent_Strict (0.02s)
    --- PASS: TestHandleSwitch/Switch_Create_Success (0.03s)
    --- PASS: TestHandleSwitch/Switch_Flexible_Ordering (0.03s)
    --- PASS: TestHandleSwitch/Switch_Invalid_Flag_Position (0.01s)
    --- PASS: TestHandleSwitch/Switch_Extra_Args (0.01s)
    --- PASS: TestHandleSwitch/Switch_Ambiguous_Mixed (0.01s)
=== RUN   TestHandleSync
=== RUN   TestHandleSync/CleanSync
=== RUN   TestHandleSync/CleanSyncParallel
=== RUN   TestHandleSync/PullNeeded
=== RUN   TestHandleSync/Diverged
=== RUN   TestHandleSync/Conflict
--- PASS: TestHandleSync (1.50s)
    --- PASS: TestHandleSync/CleanSync (0.12s)
    --- PASS: TestHandleSync/CleanSyncParallel (0.09s)
    --- PASS: TestHandleSync/PullNeeded (0.22s)
    --- PASS: TestHandleSync/Diverged (0.24s)
    --- PASS: TestHandleSync/Conflict (0.21s)
=== RUN   TestSync_SkipMissingRemoteBranch
--- PASS: TestSync_SkipMissingRemoteBranch (0.60s)
=== RUN   TestRunEditor
--- PASS: TestRunEditor (0.14s)
=== RUN   TestHelperProcess_Editor
--- PASS: TestHelperProcess_Editor (0.00s)
=== RUN   TestRunEditor_Empty
--- PASS: TestRunEditor_Empty (0.14s)
=== RUN   TestHelperProcess_EditorEmpty
--- PASS: TestHelperProcess_EditorEmpty (0.00s)
=== RUN   TestSpinner
--- PASS: TestSpinner (0.00s)
FAIL
FAIL	mistletoe/internal/app	20.085s
FAIL
