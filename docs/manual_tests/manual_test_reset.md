# 手動テスト: reset コマンド

## 概要 (Overview)
`reset` コマンドが設定ファイルに基づいてリポジトリを正しくリセットできるか、およびリセットモード（Mixed Reset）が正しく機能し、ワーキングディレクトリの変更が保持されるかを確認する。

## テストシナリオ (Test Scenario)

### シナリオ 1: 基本的なリセットと変更の保持 (Basic Reset and Keep Changes)

1. **セットアップ**:
    *   テスト用リポジトリを作成。
    *   コミット `C1` を作成。
    *   コミット `C2` を作成（ファイル `f1` を変更）。
    *   ワーキングディレクトリで `f1` をさらに変更（未コミット `M1`）。
    *   設定ファイル `mistletoe.json` を作成し、リポジトリの `revision` を `C1` のハッシュに設定。

2. **実行**:
    *   `mstl reset -f mistletoe.json` を実行。

3. **期待される結果**:
    *   コマンドが成功する。
    *   リポジトリの HEAD が `C1` に戻っている。
    *   ワーキングディレクトリの `f1` の内容は `M1` (最新の状態) のままである。
    *   `git status` を確認すると、`C1` からの変更分（`C2` での変更 + `M1` の変更）が Unstaged changes として表示される。

### シナリオ 2: 不整合時のエラー (Error on Inconsistency)

1. **セットアップ**:
    *   シナリオ1の状態から、さらに全く無関係なリポジトリのハッシュなどを `revision` に設定、または存在しないブランチを設定。

2. **実行**:
    *   `mstl reset -f mistletoe.json` を実行。

3. **期待される結果**:
    *   エラーが発生し、リセットが実行されない（HEADが移動しない）。
