# 手動テスト設計書: Upstream 設定安全性

## 概要
ローカルブランチと Upstream ブランチの整合性が取れていない（名前が異なる、リモートブランチが削除された等）場合に、`mstl status` コマンドが安全のために Upstream 設定を解除する動作を検証します。
これにより、意図しないリモートブランチへのPushやPullを防ぎます。

## テストシナリオ

### シナリオ 1: ブランチ名不一致による解除
1.  ローカルブランチ `feature-a` の Upstream を `origin/feature-b` （異なる名前）に手動で設定します。
2.  `mstl status` を実行します。
3.  ステータス確認処理の中で不整合が検知され、Upstream 設定が自動的に解除されることを確認します（`git config --unset branch.feature-a.merge` 等が実行される）。

### シナリオ 2: リモートブランチ消失による解除
1.  Upstream が設定されているローカルブランチを用意します。
2.  リモート側で対象のブランチを削除します。
3.  `mstl status` を実行します（必要に応じて `git fetch --prune` 等でリモート情報を更新した状態で）。
4.  Upstream ブランチが存在しないことが検知され、設定が解除されることを確認します。
